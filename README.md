# MealMind

<div align="center">

![33837_MealMind_Banner](https://user-images.githubusercontent.com/5871075/221132705-25a49e61-1f9b-432a-95c8-41b540436479.png)
 
 [Click Here to Demo](https://www.mealmind.app)

You can tour this app's repo using [CodeSee](https://app.codesee.io/maps/public/5db76fa0-b54f-11ed-a159-e35b74d3b925).

See the [Refine Hackathon submission here](https://devpost.com/software/food-tracking-app).

Checkout our [Roadmap](https://mealmind.hellonext.co/roadmap) and [Changelog](https://mealmind.hellonext.co/changelog)

</div>


# About

## ðŸ’¼ Project Description

MealMind is a food tracking & meal planning app that helps people with Avoidant/Restrictive Food Intake Disorder (ARFID) and Attention Deficit Hyperactivity Disorder (ADHD) improve their eating habits. As someone who suffers from both ARFID and ADHD, I know first-hand how difficult it is to just eat... especially when certain foods or textures are a struggle to eat... or when I just forget to eat all day for no other reason than "I forgot" (oops). That's why I created MealMind, to make meal planning an enjoyable and stress-free experience.

I wanted to challenge myself and learn a new tech stack that I've never used before, so I chose to build MealMind using Nextjs/Typescript, Material UI (and a tiny bit of Ant Design), and Supabase. I went through superplate's set up of Refine.dev and also set up React Hook Forms and light/dark mode. While I didn't have time to fully utilize the i18n (important for me as a spanish speaker) and kbar interface, I plan to incorporate them more in the future to make MealMind even more user-friendly.

Creating MealMind has been the most important project for me. I wanted to build a tool that not only helps me manage my own eating habits, but also helps others with similar struggles. That's why I'm excited to make this an open-source project (my very first one as well), so that others can benefit from it and contribute to its development. I hope that MealMind can help those with ARFID and ADHD feel more confident in their ability to plan and enjoy their meals, and I'm excited to see how it evolves as a community-driven project :)


## ðŸ–¥ Tech Stack

![HTML5 Badge](https://img.shields.io/badge/HTML5-E34F26?logo=html5&logoColor=fff&style=for-the-badge) ![CSS3 Badge](https://img.shields.io/badge/CSS3-1572B6?logo=css3&logoColor=fff&style=for-the-badge) ![Material Design Badge](https://img.shields.io/badge/Material%20Design-757575?logo=materialdesign&logoColor=fff&style=for-the-badge) ![Material Design Icons Badge](https://img.shields.io/badge/Material%20Design%20Icons-2196F3?logo=materialdesignicons&logoColor=fff&style=for-the-badge) ![Ant Design Badge](https://img.shields.io/badge/Ant%20Design-0170FE?logo=antdesign&logoColor=fff&style=for-the-badge) ![styled-components Badge](https://img.shields.io/badge/styled--components-DB7093?logo=styledcomponents&logoColor=fff&style=for-the-badge) ![JavaScript Badge](https://img.shields.io/badge/JavaScript-F7DF1E?logo=javascript&logoColor=000&style=for-the-badge) ![TypeScript Badge](https://img.shields.io/badge/TypeScript-3178C6?logo=typescript&logoColor=fff&style=for-the-badge) ![Next.js Badge](https://img.shields.io/badge/Next.js-000?logo=nextdotjs&logoColor=fff&style=for-the-badge)
 ![React Badge](https://img.shields.io/badge/React-61DAFB?logo=react&logoColor=000&style=for-the-badge) ![React Hook Form Badge](https://img.shields.io/badge/React%20Hook%20Form-EC5990?logo=reacthookform&logoColor=fff&style=for-the-badge) ![React Table Badge](https://img.shields.io/badge/React%20Table-FF4154?logo=reacttable&logoColor=fff&style=for-the-badge) ![React Query Badge](https://img.shields.io/badge/React%20Query-FF4154?logo=reactquery&logoColor=fff&style=for-the-badge) ![Supabase Badge](https://img.shields.io/badge/Supabase-3ECF8E?logo=supabase&logoColor=fff&style=for-the-badge) ![PostgreSQL Badge](https://img.shields.io/badge/PostgreSQL-4169E1?logo=postgresql&logoColor=fff&style=for-the-badge) ![Postman Badge](https://img.shields.io/badge/Postman-FF6C37?logo=postman&logoColor=fff&style=for-the-badge) ![Vercel Badge](https://img.shields.io/badge/Vercel-000?logo=vercel&logoColor=fff&style=for-the-badge) ![Node.js Badge](https://img.shields.io/badge/Node.js-393?logo=nodedotjs&logoColor=fff&style=for-the-badge) ![Yarn Badge](https://img.shields.io/badge/Yarn-2C8EBB?logo=yarn&logoColor=fff&style=for-the-badge)

 This [refine](https://github.com/pankod/refine) project was generated with [superplate](https://github.com/pankod/refine).

 
 ## ðŸ§  What I learned
 
 - How Refine works and how to use it to quickly build CRUD based apps
 - New languages & frameworks: Nextjs and Typescript
 - New design systems: Material UI and Ant Design
 - New database and auth manager: Supabase
 - How to set up the app's infrastructure to work correctly with the frontend
 - A lot of database design and mapping out ERDs
 - How to map out an MVP and get a clear scope before starting to build



# ðŸ‘¤ Hackathon & Participant Info

<div align="left" style="margin: 30px;">
    <a href="https://refine.dev">
    <img src="https://refine.ams3.cdn.digitaloceanspaces.com/refine_logo.png"  align="center" />
    </a>
</div>

## **refine Open Source Hackathon:**

*refine is a React-based framework for the rapid âœ¨ development of CRUD web applications. It eliminates the repetitive tasks demanded by CRUD operations and provides industry standard solutions for critical parts like authentication, access control, routing, networking, state management, and i18n. refine shines on data-intensive applications like admin panels, dashboards, internal tools and storefronts.*

*We're proud to have reached thousands of developers who used refine in our first year, and we couldn't have done it without an open source community! To celebrate this achievement with the community, we are excited to announce the launch of the first hackathon event.*

*This hackathon is an excellent opportunity for developers to showcase their skills and learn refine!*

## **PARTICIPANT**

<img src="https://user-images.githubusercontent.com/5871075/221125288-121e9508-ed59-4b30-bd5c-dcc3449bd46e.jpg" width="20%" />

**Katya Sarmiento**

[GitHub](https://github.com/Kitkatnik) | [LinkedIn](https://www.linkedin.com/in/katyasarmiento/) | [Twitter](https://twitter.com/kitkatnik) *(not active)*



# ðŸ‘€ Preview

Sign in or create a new account to start using MealMind:

<img width="70%" alt="MealMind sign in page" src="https://user-images.githubusercontent.com/5871075/221377768-691ee94c-943f-47b8-b5f7-990ca0935e3e.png">

<br/>


DARK MODE: Sign in or create a new account to start using MealMind:

<img width="70%" alt="MealMind dark mode sign in page" src="https://user-images.githubusercontent.com/5871075/221377826-e2c6abb0-aa3c-4445-a8e6-0a2ee91662c8.png">

<br/>


See a list of all your foods and quickly see what you've rated them:

<img width="70%" alt="MealMind list of food items page" src="https://user-images.githubusercontent.com/5871075/221377845-a70bb5ab-ed81-4565-8cd6-a3f962f04d76.png">

<br/>


DARK MODE: See a list of all your foods and quickly see what you've rated them:

<img width="70%" alt="MealMind dark mode list of food items page" src="https://user-images.githubusercontent.com/5871075/221377832-1761f8d8-d078-4cb5-a19b-15335fb21967.png">

<br/>


Filter through all your food items with categories:

<img width="70%" alt="MealMind filter food items" src="https://user-images.githubusercontent.com/5871075/221377855-9f1d0faf-7e65-42e7-bfd5-7e6a71b0e198.png">

<br/>


Create new food items with categories, eating & purchase locations, and notes:

<img width="70%" alt="MealMind adding new food items" src="https://user-images.githubusercontent.com/5871075/221377861-746ad473-2776-4dfc-8235-cb5cfa634c73.png">

<br/>


Add new food items directly from the categories menu:

<img width="70%" alt="MealMind categories page with adding new food items" src="https://user-images.githubusercontent.com/5871075/221377867-8fe3ead8-5d03-4910-bf13-a2b60fb924d9.png">


<br/>

DARK MODE: Add new food items directly from the categories menu:

<img width="70%" alt="MealMind dark mode categories page with adding new food items" src="https://user-images.githubusercontent.com/5871075/221377869-e3dbe004-4cb9-4b48-b618-2174c723ab8b.png">

<br/>


See all your foods organized into category buckets:

<img width="70%" alt="MealMind food items in category buckets" src="https://user-images.githubusercontent.com/5871075/221377878-f26a048d-a92a-403f-9659-8083e02c1ef5.png">

<br/>


See a list of all your meal plans and date:

<img width="70%" alt="MealMind list of meal plans page" src="https://user-images.githubusercontent.com/5871075/221377885-9c64232d-d702-4aa7-8be1-ba881762208e.png">

<br/>



DARK MODE: See a list of all your meal plans and dates:

<img width="70%" alt="MealMind dark mode list of meal plans page" src="https://user-images.githubusercontent.com/5871075/221377890-a8f4b00a-9d70-424f-b438-ba1cb1f4bc6c.png">

<br/>


Create a new meal plan for any day:

<img width="70%" alt="MealMind create a new meal plan" src="https://user-images.githubusercontent.com/5871075/221377896-8bbd8b5a-7788-479f-8f18-fe07601b2e83.png">

<br/>


Click into your meal plan to see more information and plan meals for breakfast, lunch, and dinner:

<img width="70%" alt="MealMind meal plan info page" src="https://user-images.githubusercontent.com/5871075/221377901-796b81be-5e26-46b4-b842-cea5b2bbbfe8.png">

<br/>


DARK MODE: Click into your meal plan to see more information and plan meals for breakfast, lunch, and dinner:

<img width="70%" alt="MealMind dark mode meal plan info page" src="https://user-images.githubusercontent.com/5871075/221377906-d091492f-110d-462f-9b2f-419c4664a24b.png">

<br/>


## **Roadmap**

* Search bar (and kbar) to quickly find food items or meal plans
* Spanish translations
* Calendar view of meal plans
* Track if you've eaten your meals or not
* Rate your meal plan each day
* A note section for each meal plan
* Account page to edit your avatar image, name, and login info
* Google sign up and login
* Importing and exporting food items and meal plans
* Set goals on eating more often, more variety, etc

[You can check out our up-to-date roadmap here](https://mealmind.hellonext.co/roadmap).



# Set up Project

## Database Set up

Sign up for a Supabase account

Create the following tables, triggers, functions, and RLS policies...


### **PROFILES**

TABLE

* id int8 is identity and primary key
* created_at timestampz default now()
* updated_at  timestampz default now()
* email varchar
* full_name varchar
* avatar_url text

FUNCTION

* Name: handle_new_user
* Schema: public
* Code:

```SQL
begin
  insert into public.profiles (user_auth, email, created_at, updated_at)
  values (new.id, new.email, new.created_at, new.updated_at);
  return new;
end;
```

TRIGGER

* Name: on_auth_user_created
* Table: auth.users
* Function: handle_new_user
* Events: AFTER INSERT


RLS POLICIES

SELECT - Profiles are viewable by users who created them
```SQL
BEGIN;
  ALTER POLICY "Profiles are viewable by users who created them." ON "public"."profiles" USING ((auth.uid() = user_auth);
COMMIT;
```

UPDATE - Users can update their own profile
```SQL
BEGIN;
  ALTER POLICY "Users can update own profile." ON "public"."profiles" USING ((auth.uid() = user_auth);
COMMIT;
```



### **CATEGORIES**

TABLE

* id int8 is identity and primary key
* created_at timestampz default now()
* updated_at  timestampz default now()
* title text default NULL 

ROWS

Add the following categories or create your own:
* Bread/Bakery
* Breakfast
* Canned
* Condiment/Spice
* Dairy
* Deli
* Drink
* Ethnic
* Fast Food
* Frozen
* Fruit
* Grain
* Home-Made
* Meat
* Other
* Restaurant
* Sauce/Oil
* Seafood
* Snack
* Sweet
* Vegetable

RLS POLICIES

Disabled



### **FOODS**

* id int8 is identity and primary key
* created_at timestampz default now()
* updated_at  timestampz default now()
* food_name text
* rating int4
* location text default NULL
* purchase_at default NULL
* notes text default NULL
* food_image text default url (pick whatever default image you want)
* added_by int 8 foreign key PROFILE.id
* added_by_auth uuid foreign key PROFILE.auth_id
* category_id int8 foreign key CATEGORIES.id

RLS POLICIES

INSERT - All users can insert foods
``` SQL
BEGIN;
  ALTER POLICY "All users can insert foods" ON "public"."foods" WITH CHECK (true);
COMMIT;
```

SELECT - Users can see foods they've entered
``` SQL
BEGIN;
  ALTER POLICY "Users can see foods they've entered" ON "public"."foods" USING ((auth.uid() = added_by_auth);
COMMIT;
```

UPDATE - Users can update foods they've entered
``` SQL
BEGIN;
  ALTER POLICY "Users can update foods they've entered" ON "public"."foods" USING ((auth.uid() = added_by_auth);
COMMIT;
```


### **MEAL PLANS**

TABLE

* id int8 is identity and primary key
* created_at timestampz default now()
* updated_at  timestampz default now()
* date date
* added_by int 8 foreign key PROFILE.id
* added_by_auth uuid foreign key PROFILE.auth_id
* total_foods int8 default 0 (needed for later features)
* total_foods_eaten int8 default 0 (needed for later features)
* day_rating int8
* notes text

RLS POLICIES

ALL - Enable all meal plan actions for user based on id
```SQL
BEGIN;
  ALTER POLICY "Enable all meal plan actions for user based on id." ON "public"."meal_plans" USING ((auth.uid() = added_by_auth);
COMMIT;
```


### **MEAL PLAN MEALS**

TABLE

* id int8 is identity and primary key
* created_at timestampz default now()
* updated_at  timestampz default now()
* period int8
* eaten boolean default false (needed for later features)
* added_by int 8 foreign key PROFILE.id
* added_by_auth uuid foreign key PROFILE.auth_id
* meal_plan_id int8 foreign key MEAL_PLANS.id
* food_id int8 foreign key FOODS.id

RLS POLICIES

INSERT - Users can add meals to meal plans
```SQL
BEGIN;
  ALTER POLICY "Users can add meals to meal plans" ON "public"."meal_plan_meals" WITH CHECK (true);
COMMIT;
```

SELECT - Users can see the meals they've entered
```SQL
BEGIN;
  ALTER POLICY "Users can see the meals they've entered" ON "public"."meal_plan_meals" USING ((auth.uid() = added_by_auth);
COMMIT;
```



## Authentication

Set up Authentication with Supabase - [Click Here for Docs](https://supabase.com/docs/guides/auth/overview)



## Prerequisites

* Refine
* Supabase
* Node / Yarn
* Javascript / Typescript 
* React / Nextjs




# Install Project

- Clone the repository:
```
git clone https://github.com/Kitkatnik/ks-MealMind.git
```

- Change directory and install dependencies:

```
cd directory
npm install
```

Set up local env variables

[Add your Supabase API URL and KEY](https://supabase.com/docs/guides/database/connecting-to-postgres#api-url-and-keys)


## Environments


### **Running the development server.**

```bash
    yarn dev
```

### **Building for production.**

```bash
    yarn build
```

### **Running the production server.**

```bash
    yarn start
```


# Learn More

To learn more about **refine**, please check out the [Documentation](https://refine.dev/docs)

- **Supabase Data Provider** [Docs](https://refine.dev/docs/core/providers/data-provider/#overview)
- **Material UI** [Docs](https://refine.dev/docs/ui-frameworks/mui/tutorial/)
- **Inferencer** [Docs](https://refine.dev/docs/packages/documentation/inferencer)
- **Material UI Light/Dark Mode** [Docs](https://refine.dev/docs/ui-frameworks/mui/customization/mui-custom-theme/)
- **Material UI Custom Theme** [Docs](https://refine.dev/docs/ui-frameworks/mui/customization/mui-custom-theme/)
- **Custom Layout** [Docs](https://refine.dev/docs/ui-frameworks/mui/customization/mui-custom-layout/)
- **KBar Command Palette** [Docs](https://github.com/pankod/refine/tree/next/examples/commandPalette/kbar)


## License

MIT
